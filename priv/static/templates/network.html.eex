<html>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <head>

    <title> Configure Farmbot's Network </title>
    <link rel="stylesheet" href="/styles.css">
    <script type="text/javascript">
    function select_interface() {
      var selected = document.getElementsByName("interfaceRadio");
      for(var i = 0; i < selected.length; i++) {
        if(selected[i].checked) {
          document.getElementById("interface").value = selected[i].id;
          document.getElementById("interfaceSelectForm").submit();
        }
      }
    }
    </script>

  </head>

  <body>
    <h1>Configure your FarmBot</h1>
    <div class="widget">
      <div class="widget-header"> <h5>Network</h5> </div>
      <div class="widget-content">
        <form action="<%= post_action %>" id="interfaceSelectForm" method="post">
          <input id="interface" name="interface" value="" hidden/>
          <% # Main form stuff %>
          <%= for ifname <- interfaces do %>
            <label for='<%= ifname %>'> <%= ifname %> </label>
            <input type="radio" id='<%= ifname %>' name="interfaceRadio" value=""/>
          <% end %>

          <% #/Main form stuff %>
          <div class="button"> <input type=submit value="next" onclick="select_interface()"> </div>
        </form>
      </div>
    </div>
  </body>
</html>
